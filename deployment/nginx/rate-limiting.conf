# Nginx rate limiting configuration for visa-bulletin.us
#
# Add this to your nginx configuration to prevent abuse
# Include in your main nginx.conf or site config

# Define rate limiting zones
limit_req_zone $binary_remote_addr zone=general:10m rate=100r/m;
limit_req_zone $binary_remote_addr zone=api:10m rate=30r/m;

# Example usage in server block:
#
# server {
#     listen 443 ssl;
#     server_name visa-bulletin.us;
#     
#     # Apply general rate limiting to all requests
#     location / {
#         limit_req zone=general burst=20 nodelay;
#         limit_req_status 429;
#         proxy_pass http://localhost:8001;
#     }
#     
#     # Stricter rate limiting for data endpoints
#     location /sitemap.xml {
#         limit_req zone=api burst=5 nodelay;
#         proxy_pass http://localhost:8001;
#     }
# }

# Benefits of nginx rate limiting:
# - More efficient than application-level (Django)
# - Blocks malicious traffic before it reaches app
# - No Python/Django overhead
# - Can rate limit by IP, user-agent, or other criteria
